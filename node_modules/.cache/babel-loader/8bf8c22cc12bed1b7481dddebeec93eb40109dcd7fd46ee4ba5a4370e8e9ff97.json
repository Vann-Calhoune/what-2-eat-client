{"ast":null,"code":"import _slicedToArray from\"/Users/vanncalhoune/Code/what-to-eat-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/vanncalhoune/Code/what-to-eat-client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{useEffect,useState}from\"react\";import Axios from\"axios\";import styled from\"styled-components\";import exit from'../assets/delete.png';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var ListDiv=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\n\"])));var Update=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\ndisplay: flex;\\ngap: 10px;\\n> input {\\n    border-radius: 10px;\\n    \\n}\\n> button {\\n    border-radius: 10px;\\n    background-color: blue;\\n    color: white;\\n}\\n> button: hover {\\n    cursor: pointer;\\n  }\\n\"])));var ListFormat=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\nborder: 1px solid black;\\nmargin: 10px;\\ndisplay: flex;\\nflex-direction: column;\\npadding: 15px;\\nborder-radius: 10px;\\nbackground-color: white;\\nwidth: 300px;\\nheight: 275px;\\ngap: 10px;\\n\\n\"])));var TopDiv=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\ndisplay: flex;\\njustify-content: space-between;\\n> img {\\n    height: 30px;\\n}\\n> img: hover {\\n    cursor: pointer;\\n  }\\n\"])));function FoodList(_ref){var setFoodArray=_ref.setFoodArray,foodArray=_ref.foodArray;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),newRating=_useState2[0],setNewRating=_useState2[1];var updateFoodRating=function updateFoodRating(id){Axios.put(\"http://localhost:3001/update\",{rating:newRating,id:id}).then(function(response){setFoodArray(foodArray.map(function(val){return val.id===id?{id:val.id,name:val.name,type:val.type,location:val.location,recommendation:val.recommendation,price:val.price,rating:val.newRating,comments:val.comments}:val;}));});setNewRating('');};var deleteFood=function deleteFood(id){Axios.delete(\"http://localhost:3001/delete/\".concat(id)).then(function(){setFoodArray(foodArray.filter(function(val){return val.id!==id;}));}).catch(function(error){console.error(error);});};var getFood=function getFood(){Axios.get('http://localhost:3001/food').then(function(response){setFoodArray(response.data);});};useEffect(function(){getFood();},[foodArray]);return/*#__PURE__*/_jsx(ListDiv,{children:foodArray.map(function(val){return/*#__PURE__*/_jsxs(ListFormat,{children:[/*#__PURE__*/_jsxs(TopDiv,{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Name: \",val.name]}),/*#__PURE__*/_jsx(\"img\",{src:exit,alt:\"delete button\",onClick:function onClick(){deleteFood(val.id);}})]},val.id),/*#__PURE__*/_jsxs(\"p\",{children:[\"Type: \",val.type]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",val.location]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Recommendation: \",val.recommendation]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",val.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Rating: \",val.rating]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Comments: \",val.comments]}),/*#__PURE__*/_jsxs(Update,{children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"New Rating\",onChange:function onChange(e){return setNewRating(e.target.value);},type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){updateFoodRating(val.id);},children:\"Update\"})]})]},val.id);})});}export default FoodList;","map":{"version":3,"names":["React","useEffect","useState","Axios","styled","exit","ListDiv","div","Update","ListFormat","TopDiv","FoodList","setFoodArray","foodArray","newRating","setNewRating","updateFoodRating","id","put","rating","then","response","map","val","name","type","location","recommendation","price","comments","deleteFood","delete","filter","catch","error","console","getFood","get","data","e","target","value"],"sources":["/Users/vanncalhoune/Code/what-to-eat-client/src/components/FoodList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport Axios from \"axios\";\nimport styled from \"styled-components\";\nimport exit from '../assets/delete.png'\n\nconst ListDiv = styled.div`\n\n`\n\nconst Update = styled.div`\ndisplay: flex;\ngap: 10px;\n> input {\n    border-radius: 10px;\n    \n}\n> button {\n    border-radius: 10px;\n    background-color: blue;\n    color: white;\n}\n> button: hover {\n    cursor: pointer;\n  }\n`\n\nconst ListFormat = styled.div`\nborder: 1px solid black;\nmargin: 10px;\ndisplay: flex;\nflex-direction: column;\npadding: 15px;\nborder-radius: 10px;\nbackground-color: white;\nwidth: 300px;\nheight: 275px;\ngap: 10px;\n\n`\nconst TopDiv = styled.div`\ndisplay: flex;\njustify-content: space-between;\n> img {\n    height: 30px;\n}\n> img: hover {\n    cursor: pointer;\n  }\n`\n\nfunction FoodList({setFoodArray , foodArray}) {\n\n    const [newRating, setNewRating] = useState('');\n    \n    const updateFoodRating = (id) => {\n        Axios.put(\"http://localhost:3001/update\", { rating: newRating, id: id }).then((response) => {\n            setFoodArray(foodArray.map((val) => {\n                return val.id === id ? {id: val.id, name: val.name, type: val.type, location: val.location, recommendation: val.recommendation, price: val.price, rating: val.newRating, comments: val.comments} : val;\n        }));\n        }\n       )\n       setNewRating('');\n    }\n\n    const deleteFood = (id) => {\n        Axios.delete(`http://localhost:3001/delete/${id}`).then(() => {\n           setFoodArray(foodArray.filter((val) => {\n            return val.id !== id\n           })) \n        })\n        .catch((error) => {\n            console.error(error)\n        });\n    }\n    \n\n    const getFood = () => {\n        Axios.get('http://localhost:3001/food').then((response) => {\n        setFoodArray(response.data);\n    });\n    }\n\n    useEffect(() => {\n        getFood();\n      }, [foodArray]);\n\n  return (\n    <ListDiv>\n        {foodArray.map((val) => {\n            return <ListFormat key={val.id}> \n                        <TopDiv key={val.id}>\n                            <h3>Name: {val.name}</h3>\n                            <img src={exit} alt='delete button' onClick={() => {\n                                deleteFood(val.id)\n                            }} />\n                        </TopDiv>\n                        <p>Type: {val.type}</p>\n                        <p>Location: {val.location}</p>\n                        <p>Recommendation: {val.recommendation}</p>\n                        <p>Price: {val.price}</p>\n                        <p>Rating: {val.rating}</p>\n                        <p>Comments: {val.comments}</p>\n                        <Update>\n                            <input placeholder=\"New Rating\" onChange={(e) => setNewRating(e.target.value)} type='text'/>\n                            <button onClick={() => {updateFoodRating(val.id);}}>Update</button>\n                        </Update>\n            </ListFormat>\n        })}\n    </ListDiv>\n  )\n}\n\nexport default FoodList"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}