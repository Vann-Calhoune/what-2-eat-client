{"ast":null,"code":"var _jsxFileName = \"/Users/vanncalhoune/Code/what-to-eat-client/src/components/FoodList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport styled from \"styled-components\";\nimport exit from '../assets/delete.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListDiv = styled.div`\n\n`;\n_c = ListDiv;\nconst Update = styled.div`\ndisplay: flex;\ngap: 10px;\n> input {\n    border-radius: 10px;\n    \n}\n> button {\n    border-radius: 10px;\n    background-color: blue;\n    color: white;\n}\n> button: hover {\n    cursor: pointer;\n  }\n`;\n_c2 = Update;\nconst ListFormat = styled.div`\nborder: 1px solid black;\nmargin: 10px;\ndisplay: flex;\nflex-direction: column;\npadding: 15px;\nborder-radius: 10px;\nbackground-color: white;\nwidth: 300px;\nheight: 275px;\ngap: 10px;\n\n`;\n_c3 = ListFormat;\nconst TopDiv = styled.div`\ndisplay: flex;\njustify-content: space-between;\n> img {\n    height: 30px;\n}\n> img: hover {\n    cursor: pointer;\n  }\n`;\n_c4 = TopDiv;\nfunction FoodList(_ref) {\n  _s();\n  let {\n    setFoodArray,\n    foodArray\n  } = _ref;\n  const [newRating, setNewRating] = useState('');\n  const updateFoodRating = id => {\n    Axios.put(\"http://localhost:3001/update\", {\n      rating: newRating,\n      id: id\n    }).then(response => {\n      setFoodArray(foodArray.map(val => {\n        return val.id === id ? {\n          id: val.id,\n          name: val.name,\n          type: val.type,\n          location: val.location,\n          recommendation: val.recommendation,\n          price: val.price,\n          rating: val.newRating,\n          comments: val.comments\n        } : val;\n      }));\n    });\n    setNewRating('');\n  };\n  const deleteFood = id => {\n    Axios.delete(`http://localhost:3001/delete/${id}`).then(() => {\n      setFoodArray(foodArray.filter(val => {\n        return val.id !== id;\n      }));\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n  const getFood = () => {\n    Axios.get('http://localhost:3001/food').then(response => {\n      setFoodArray(response.data);\n    });\n  };\n  useEffect(() => {\n    getFood();\n  }, [foodArray]);\n  return /*#__PURE__*/_jsxDEV(ListDiv, {\n    children: foodArray.map(val => {\n      return /*#__PURE__*/_jsxDEV(ListFormat, {\n        children: [/*#__PURE__*/_jsxDEV(TopDiv, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Name: \", val.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: exit,\n            alt: \"delete button\",\n            onClick: () => {\n              deleteFood(val.id);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this)]\n        }, val.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Type: \", val.type]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Location: \", val.location]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Recommendation: \", val.recommendation]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Price: \", val.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Rating: \", val.rating]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Comments: \", val.comments]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Update, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"New Rating\",\n            onChange: e => setNewRating(e.target.value),\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              updateFoodRating(val.id);\n            },\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }, this)]\n      }, val.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 20\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n_s(FoodList, \"zoY30qg/plDXpU7APDsgIcGPxfc=\");\n_c5 = FoodList;\nexport default FoodList;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"ListDiv\");\n$RefreshReg$(_c2, \"Update\");\n$RefreshReg$(_c3, \"ListFormat\");\n$RefreshReg$(_c4, \"TopDiv\");\n$RefreshReg$(_c5, \"FoodList\");","map":{"version":3,"names":["React","useEffect","useState","Axios","styled","exit","ListDiv","div","Update","ListFormat","TopDiv","FoodList","setFoodArray","foodArray","newRating","setNewRating","updateFoodRating","id","put","rating","then","response","map","val","name","type","location","recommendation","price","comments","deleteFood","delete","filter","catch","error","console","getFood","get","data","e","target","value"],"sources":["/Users/vanncalhoune/Code/what-to-eat-client/src/components/FoodList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport Axios from \"axios\";\nimport styled from \"styled-components\";\nimport exit from '../assets/delete.png'\n\nconst ListDiv = styled.div`\n\n`\n\nconst Update = styled.div`\ndisplay: flex;\ngap: 10px;\n> input {\n    border-radius: 10px;\n    \n}\n> button {\n    border-radius: 10px;\n    background-color: blue;\n    color: white;\n}\n> button: hover {\n    cursor: pointer;\n  }\n`\n\nconst ListFormat = styled.div`\nborder: 1px solid black;\nmargin: 10px;\ndisplay: flex;\nflex-direction: column;\npadding: 15px;\nborder-radius: 10px;\nbackground-color: white;\nwidth: 300px;\nheight: 275px;\ngap: 10px;\n\n`\nconst TopDiv = styled.div`\ndisplay: flex;\njustify-content: space-between;\n> img {\n    height: 30px;\n}\n> img: hover {\n    cursor: pointer;\n  }\n`\n\nfunction FoodList({setFoodArray , foodArray}) {\n\n    const [newRating, setNewRating] = useState('');\n    \n    const updateFoodRating = (id) => {\n        Axios.put(\"http://localhost:3001/update\", { rating: newRating, id: id }).then((response) => {\n            setFoodArray(foodArray.map((val) => {\n                return val.id === id ? {id: val.id, name: val.name, type: val.type, location: val.location, recommendation: val.recommendation, price: val.price, rating: val.newRating, comments: val.comments} : val;\n        }));\n        }\n       )\n       setNewRating('');\n    }\n\n    const deleteFood = (id) => {\n        Axios.delete(`http://localhost:3001/delete/${id}`).then(() => {\n           setFoodArray(foodArray.filter((val) => {\n            return val.id !== id\n           })) \n        })\n        .catch((error) => {\n            console.error(error)\n        });\n    }\n    \n\n    const getFood = () => {\n        Axios.get('http://localhost:3001/food').then((response) => {\n        setFoodArray(response.data);\n    });\n    }\n\n    useEffect(() => {\n        getFood();\n      }, [foodArray]);\n\n  return (\n    <ListDiv>\n        {foodArray.map((val) => {\n            return <ListFormat key={val.id}> \n                        <TopDiv key={val.id}>\n                            <h3>Name: {val.name}</h3>\n                            <img src={exit} alt='delete button' onClick={() => {\n                                deleteFood(val.id)\n                            }} />\n                        </TopDiv>\n                        <p>Type: {val.type}</p>\n                        <p>Location: {val.location}</p>\n                        <p>Recommendation: {val.recommendation}</p>\n                        <p>Price: {val.price}</p>\n                        <p>Rating: {val.rating}</p>\n                        <p>Comments: {val.comments}</p>\n                        <Update>\n                            <input placeholder=\"New Rating\" onChange={(e) => setNewRating(e.target.value)} type='text'/>\n                            <button onClick={() => {updateFoodRating(val.id);}}>Update</button>\n                        </Update>\n            </ListFormat>\n        })}\n    </ListDiv>\n  )\n}\n\nexport default FoodList"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}